# æµå¼è¾“å‡ºä½¿ç”¨æŒ‡å—

## æ¦‚è¿°

æ™ºèƒ½ä½“ç³»ç»Ÿæ”¯æŒå®æ—¶æµå¼è¾“å‡ºï¼Œè®©ä½ èƒ½å¤Ÿå®æ—¶çœ‹åˆ°æ™ºèƒ½ä½“çš„æ€è€ƒè¿‡ç¨‹ã€å·¥å…·è°ƒç”¨å’Œæ‰§è¡Œç»“æœã€‚

## å¿«é€Ÿå¼€å§‹

### 1. å¯ç”¨æµå¼è¾“å‡º

åœ¨è¿è¡Œæ™ºèƒ½ä½“æ—¶æ·»åŠ  `--stream` å‚æ•°ï¼š

```bash
# Linux/Mac
./scripts/setup/start.sh --interactive --stream

# Windows
scripts\setup\start.bat --interactive --stream
```

æˆ–è€…ç›´æ¥ä½¿ç”¨ Pythonï¼š

```bash
python main.py --interactive --stream
```

### 2. é€‰æ‹©è¾“å‡ºæ ·å¼

ä½¿ç”¨ `--streaming-style` å‚æ•°é€‰æ‹©ä¸åŒçš„è¾“å‡ºæ ·å¼ï¼š

#### Simpleï¼ˆç®€æ´æ¨¡å¼ï¼‰- é»˜è®¤æ¨è

```bash
python main.py --interactive --stream --streaming-style simple
```

**ç‰¹ç‚¹ï¼š**
- âœ… æ˜¾ç¤ºå·¥å…·è°ƒç”¨å’Œå‚æ•°
- âœ… æ˜¾ç¤ºæ‰§è¡Œç»“æœæ‘˜è¦
- âœ… æ¸…æ™°çš„åˆ†éš”çº¿
- âŒ ä¸æ˜¾ç¤ºæ­¥éª¤ç¼–å·
- âŒ ä¸æ˜¾ç¤ºè¯¦ç»†æ€è€ƒè¿‡ç¨‹

**è¾“å‡ºç¤ºä¾‹ï¼š**
```
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
ğŸ¤– æ™ºèƒ½ä½“å¯åŠ¨
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
ğŸ“¥ ä»»åŠ¡: å¸®æˆ‘åˆ†æä¸€ä¸‹ä¾›åº”é“¾ä¼˜åŒ–æ–¹æ¡ˆ
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
ğŸ”§ å·¥å…·: search
ğŸ“ å‚æ•°: query=ä¾›åº”é“¾ä¼˜åŒ–æœ€ä½³å®è·µ
â³ æ‰§è¡Œä¸­...
âœ… å®Œæˆ
ğŸ“Š ç»“æœ:
   æ‰¾åˆ°äº†ç›¸å…³çš„ä¾›åº”é“¾ä¼˜åŒ–ç­–ç•¥...
   åŒ…æ‹¬åº“å­˜ç®¡ç†ã€ç‰©æµä¼˜åŒ–ç­‰æ–¹é¢...
   
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
ğŸ”§ å·¥å…·: calculator
ğŸ“ å‚æ•°: expression=cost_reduction * efficiency
â³ æ‰§è¡Œä¸­...
âœ… å®Œæˆ
ğŸ“Š ç»“æœ:
   è®¡ç®—ç»“æœ: 85.6

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
âœ… ä»»åŠ¡å®Œæˆ
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
```

#### Detailedï¼ˆè¯¦ç»†æ¨¡å¼ï¼‰

```bash
python main.py --interactive --stream --streaming-style detailed
```

**ç‰¹ç‚¹ï¼š**
- âœ… æ˜¾ç¤ºå®Œæ•´çš„æ€è€ƒè¿‡ç¨‹
- âœ… æ˜¾ç¤ºå·¥å…·è°ƒç”¨è¯¦æƒ…
- âœ… æ˜¾ç¤ºè¯¦ç»†çš„æ‰§è¡Œç»“æœ
- âœ… ä¸°å¯Œçš„é¢œè‰²å’Œå›¾æ ‡
- âŒ ä¸æ˜¾ç¤ºæ­¥éª¤ç¼–å·

**è¾“å‡ºç¤ºä¾‹ï¼š**
```
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
  ğŸ¤– æ™ºèƒ½ä½“å¯åŠ¨
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
  ä»»åŠ¡: å¸®æˆ‘åˆ†æä¸€ä¸‹ä¾›åº”é“¾ä¼˜åŒ–æ–¹æ¡ˆ
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

  ğŸ¤” æ€è€ƒè¿‡ç¨‹
  æˆ‘éœ€è¦é¦–å…ˆäº†è§£å½“å‰çš„ä¾›åº”é“¾ä¼˜åŒ–æœ€ä½³å®è·µï¼Œ
  ç„¶åç»“åˆå…·ä½“æƒ…å†µæä¾›å»ºè®®...

  ğŸ”§ å·¥å…·è°ƒç”¨: search
  å‚æ•°: query=ä¾›åº”é“¾ä¼˜åŒ–æœ€ä½³å®è·µ

  â³ æ‰§è¡Œä¸­

  ğŸ‘ï¸ è§‚å¯Ÿç»“æœ
  æ‰¾åˆ°äº†ä¸°å¯Œçš„ä¾›åº”é“¾ä¼˜åŒ–èµ„æ–™ï¼ŒåŒ…æ‹¬ï¼š
  1. åº“å­˜ç®¡ç†ä¼˜åŒ–
  2. ç‰©æµç½‘ç»œä¼˜åŒ–
  3. ä¾›åº”å•†å…³ç³»ç®¡ç†
  ...ï¼ˆè¯¦ç»†å†…å®¹ï¼‰

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
  ğŸ’¡ ç»“è®º
  åŸºäºç ”ç©¶å’Œåˆ†æï¼Œæˆ‘å»ºè®®é‡‡ç”¨ä»¥ä¸‹ä¼˜åŒ–ç­–ç•¥...
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
  âœ… ä»»åŠ¡å®Œæˆ
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
```

#### Noneï¼ˆé™é»˜æ¨¡å¼ï¼‰

```bash
python main.py --interactive --stream --streaming-style none
```

**ç‰¹ç‚¹ï¼š**
- âŒ ä¸æ˜¾ç¤ºä¸­é—´è¿‡ç¨‹
- âœ… åªæ˜¾ç¤ºæœ€ç»ˆç»“æœ
- é€‚åˆéœ€è¦ç®€æ´è¾“å‡ºçš„åœºæ™¯

**è¾“å‡ºç¤ºä¾‹ï¼š**
```
åŸºäºä¾›åº”é“¾ä¼˜åŒ–çš„æœ€ä½³å®è·µï¼Œæˆ‘ä¸ºæ‚¨åˆ¶å®šäº†ä»¥ä¸‹æ–¹æ¡ˆï¼š
1. åº“å­˜ç®¡ç†ä¼˜åŒ–...
2. ç‰©æµç½‘ç»œä¼˜åŒ–...
...
```

## ä½¿ç”¨åœºæ™¯å»ºè®®

### å¼€å‘è°ƒè¯•
```bash
python main.py --interactive --stream --streaming-style detailed --debug
```
- ä½¿ç”¨ `detailed` æ¨¡å¼æŸ¥çœ‹å®Œæ•´æ‰§è¡Œè¿‡ç¨‹
- å¯ç”¨ `--debug` æŸ¥çœ‹è¯¦ç»†æ—¥å¿—

### æ—¥å¸¸ä½¿ç”¨
```bash
python main.py --interactive --stream
```
- ä½¿ç”¨é»˜è®¤çš„ `simple` æ¨¡å¼
- å¹³è¡¡äº†ä¿¡æ¯é‡å’Œå¯è¯»æ€§

### ç”Ÿäº§ç¯å¢ƒ/APIè°ƒç”¨
```bash
python main.py --query "ä½ çš„é—®é¢˜" --streaming-style none
```
- ä½¿ç”¨ `none` æ¨¡å¼åªè·å–ç»“æœ
- ä¸éœ€è¦ `--stream` å‚æ•°

## å‘½ä»¤è¡Œå‚æ•°å®Œæ•´åˆ—è¡¨

```bash
python main.py [é€‰é¡¹]

é€‰é¡¹:
  --interactive              äº¤äº’æ¨¡å¼
  --query "é—®é¢˜"             å•æ¬¡æŸ¥è¯¢æ¨¡å¼
  --stream                   å¯ç”¨æµå¼è¾“å‡º
  --streaming-style STYLE    è¾“å‡ºæ ·å¼ (simple|detailed|none)
  --provider PROVIDER        LLMæä¾›å•† (siliconflow|openai|anthropic|ollama)
  --debug                    å¯ç”¨è°ƒè¯•æ¨¡å¼
  --no-debug                 å…³é—­è°ƒè¯•æ¨¡å¼
  --config PATH              æŒ‡å®šé…ç½®æ–‡ä»¶
```

## é…ç½®æ–‡ä»¶æ–¹å¼

ä½ ä¹Ÿå¯ä»¥åœ¨é…ç½®æ–‡ä»¶ä¸­è®¾ç½®é»˜è®¤çš„æµå¼è¾“å‡ºæ ·å¼ï¼ˆæœªæ¥åŠŸèƒ½ï¼‰ï¼š

```yaml
# config/base/agents.yaml
unified_agent:
  streaming:
    enabled: true
    style: "simple"  # simple | detailed | none
```

## ç¼–ç¨‹æ–¹å¼ä½¿ç”¨

åœ¨ä»£ç ä¸­ä½¿ç”¨æµå¼è¾“å‡ºï¼š

```python
from src.agents.unified.unified_agent import UnifiedAgent

# åˆ›å»ºæ™ºèƒ½ä½“æ—¶æŒ‡å®šæµå¼è¾“å‡ºæ ·å¼
agent = UnifiedAgent(
    provider="siliconflow",
    streaming_style="simple"  # simple, detailed, none
)

# ä½¿ç”¨æµå¼è¾“å‡º
for chunk in agent.stream("ä½ çš„é—®é¢˜"):
    if isinstance(chunk, dict) and "response" in chunk:
        print(chunk["response"], end="", flush=True)
    else:
        print(chunk, end="", flush=True)
```

## å¸¸è§é—®é¢˜

### Q: ä¸ºä»€ä¹ˆæˆ‘çœ‹ä¸åˆ°æµå¼è¾“å‡ºï¼Ÿ

A: è¯·ç¡®ä¿ï¼š
1. ä½¿ç”¨äº† `--stream` å‚æ•°
2. é€‰æ‹©äº†æ­£ç¡®çš„ `--streaming-style`ï¼ˆé»˜è®¤æ˜¯ `simple`ï¼‰
3. ä¸è¦ä½¿ç”¨ `--streaming-style none`ï¼Œé‚£ä¼šéšè—ä¸­é—´è¿‡ç¨‹

### Q: å¦‚ä½•å…³é—­"æ­¥éª¤ X"è¿™æ ·çš„æ ‡è¯†ï¼Ÿ

A: æœ€æ–°ç‰ˆæœ¬å·²ç»ç§»é™¤äº†æ­¥éª¤ç¼–å·æ˜¾ç¤ºï¼Œä½ åªä¼šçœ‹åˆ°å·¥å…·è°ƒç”¨å’Œæ‰§è¡Œç»“æœã€‚

### Q: Simple å’Œ Detailed æ¨¡å¼çš„ä¸»è¦åŒºåˆ«æ˜¯ä»€ä¹ˆï¼Ÿ

A: 
- **Simple**: æ˜¾ç¤ºå·¥å…·è°ƒç”¨å’Œç»“æœï¼Œä¸æ˜¾ç¤ºAIçš„å†…éƒ¨æ€è€ƒè¿‡ç¨‹
- **Detailed**: æ˜¾ç¤ºå®Œæ•´çš„æ€è€ƒè¿‡ç¨‹ã€å·¥å…·è°ƒç”¨å’Œè¯¦ç»†ç»“æœ

### Q: æµå¼è¾“å‡ºä¼šå½±å“æ€§èƒ½å—ï¼Ÿ

A: æµå¼è¾“å‡ºçš„æ€§èƒ½å½±å“å¾ˆå°ï¼š
- **Simple**: å‡ ä¹æ— å½±å“
- **Detailed**: è½»å¾®å½±å“ï¼ˆå¢åŠ äº†è¾“å‡ºé‡ï¼‰
- **None**: æ— å½±å“

## å¿«é€Ÿç¤ºä¾‹

### ç¤ºä¾‹1ï¼šç®€æ´æ¨¡å¼é—®ç­”
```bash
python main.py --query "ä»Šå¤©å¤©æ°”æ€ä¹ˆæ ·ï¼Ÿ" --stream --streaming-style simple
```

### ç¤ºä¾‹2ï¼šè¯¦ç»†æ¨¡å¼äº¤äº’
```bash
python main.py --interactive --stream --streaming-style detailed
```

### ç¤ºä¾‹3ï¼šä½¿ç”¨å¯åŠ¨è„šæœ¬
```bash
# Linux/Mac
./scripts/setup/start.sh --interactive --stream

# Windows
scripts\setup\start.bat --interactive --stream
```

## æ›´æ–°æ—¥å¿—

### v3.0 (å½“å‰ç‰ˆæœ¬)
- âœ… ç§»é™¤äº†"æ­¥éª¤ X"æ ‡è¯†
- âœ… ä¼˜åŒ–äº†è¾“å‡ºæ ¼å¼
- âœ… æ·»åŠ äº†æ›´ä¸°å¯Œçš„å›¾æ ‡
- âœ… æ”¹è¿›äº†é”™è¯¯å¤„ç†æ˜¾ç¤º

### v2.0
- âœ… æ·»åŠ äº† simple/detailed/none ä¸‰ç§è¾“å‡ºæ¨¡å¼
- âœ… æ”¯æŒå¯åŠ¨è„šæœ¬ä¼ å‚

### v1.0
- âœ… åŸºç¡€æµå¼è¾“å‡ºåŠŸèƒ½

---

**éœ€è¦å¸®åŠ©ï¼Ÿ** æŸ¥çœ‹å®Œæ•´æ–‡æ¡£ï¼š[docs/README.md](./README.md)

